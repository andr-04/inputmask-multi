<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/demo.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <script src="http://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
        <script src="http://cdn.rawgit.com/RobinHerbots/jquery.inputmask/3.2.7/dist/min/jquery.inputmask.bundle.min.js" type="text/javascript"></script>
        <script src="http://cdn.rawgit.com/andr-04/inputmask-multi/1.2.0/js/jquery.inputmask-multi.min.js" type="text/javascript"></script>
        <title>Inputmask-multi by andr-04</title>
    </head>

    <body>

<!--LiveInternet counter--><script type="text/javascript"><!--
new Image().src = "//counter.yadro.ru/hit?r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random();//--></script><!--/LiveInternet-->
        
        <div id="container">
            <div class="inner">

                <header>
                    <div style="text-align: right;"><a href="en.html">English</a></div>
                    <h1>Inputmask-multi</h1>
                    <h2>Подбор маски ввода по номеру телефона</h2>
                </header>

                <section id="downloads" class="clearfix">
                    <a href="https://github.com/andr-04/inputmask-multi/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
                    <a href="https://github.com/andr-04/inputmask-multi/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
                    <a href="https://github.com/andr-04/inputmask-multi" id="view-on-github" class="button"><span>View on GitHub</span></a>
                </section>

                <hr>

                <section id="main_content">
                    <h3>Описание</h3>

                    <p>Данный плагин для jQuery позволяет автоматически подбирать подходящую маску ввода на основе введённого начала телефонного номера.</p>

                    <h3>Пример использования</h3>

                    <p>Введите произвольный номер телефона в следующее поле ввода:</p>
                    <div class="demo">
                        <input type="radio" name="mode" id="is_world" value="world" checked><label for="is_world">Страны мира</label>
                        <span style="width: 20px; display: inline-block;"></span>
                        <input type="radio" name="mode" id="is_russia" value="ru"><label for="is_russia">Города России</label>
                        <input type="text" id="customer_phone" value="7" size="25"><br>
                        <input type="checkbox" id="phone_mask" checked><label id="descr" for="phone_mask">Маска ввода</label>
                    </div>
                    <p>Текст надписи к флажку меняется в соответствии с введённой маской ввода. Если снять флажок, то будет разрешён ввод только цифр.</p>
                    
                    <p>Использование плагина позволяет сделать ввод номера телефона на странице web-cайта более быстрым и безошибочным. Кроме того, разработанный плагин может быть использован в других областях, если правила ввода возможно представить в виде нескольких масок ввода.</p>

                </section>

                <footer>
                    Inputmask-multi is maintained by <a href="https://github.com/andr-04">andr-04</a><br>
                    This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
                </footer>

            </div>
        </div>

        <script>
            var listCountries = $.masksSort($.masksLoad("http://cdn.rawgit.com/andr-04/inputmask-multi/master/data/phone-codes.json"), ['#'], /[0-9]|#/, "mask");
            var listRU = $.masksSort($.masksLoad("http://cdn.rawgit.com/andr-04/inputmask-multi/master/data/phones-ru.json"), ['#'], /[0-9]|#/, "mask");
            var maskOpts = {
                inputmask: {
                    definitions: {
                        '#': {
                            validator: "[0-9]",
                            cardinality: 1
                        }
                    },
                    showMaskOnHover: false,
                    autoUnmask: true,
                    clearMaskOnLostFocus: false
                },
                match: /[0-9]/,
                replace: '#',
                listKey: "mask"
            };

            var maskChangeWorld = function(maskObj, determined) {
                if (determined) {
                    var hint = maskObj.name_ru;
                    if (maskObj.desc_ru && maskObj.desc_ru != "") {
                        hint += " (" + maskObj.desc_ru + ")";
                    }
                    $("#descr").html(hint);
                } else {
                    $("#descr").html("Маска ввода");
                }
            }

            var maskChangeRU = function(maskObj, determined) {
                if (determined) {
                    if (maskObj.type != "mobile") {
                        $("#descr").html(maskObj.city.toString() + " (" + maskObj.region.toString() + ")");
                    } else {
                        $("#descr").html("мобильные");
                    }
                } else {
                    $("#descr").html("Маска ввода");
                }
            }

            $('#phone_mask, input[name="mode"]').change(function() {
                if ($('#phone_mask').is(':checked')) {
                    $('#customer_phone').inputmask("remove");
                    if ($('#is_world').is(':checked')) {
                        $('#customer_phone').inputmasks($.extend(true, {}, maskOpts, {
                            list: listCountries,
                            onMaskChange: maskChangeWorld
                        }));
                    } else {
                        $('#customer_phone').inputmasks($.extend(true, {}, maskOpts, {
                            list: listRU,
                            onMaskChange: maskChangeRU
                        }));
                    }
                } else {
                    $('#customer_phone').inputmasks("remove");
                    $('#customer_phone').inputmask("+#{*}", maskOpts.inputmask);
                    $("#descr").html("Маска ввода");
                }
            });

            $('#phone_mask').change();
        </script>
    </body>
</html>
